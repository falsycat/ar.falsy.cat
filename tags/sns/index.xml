<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>sns on</title><link>https://ar.falsy.cat/tags/sns/</link><description>Recent content in sns on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://ar.falsy.cat/tags/sns/index.xml" rel="self" type="application/rss+xml"/><item><title>Pleroma</title><link>https://ar.falsy.cat/note/info-tech/pleroma/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ar.falsy.cat/note/info-tech/pleroma/</guid><description>概要 ActivityPubに対応したlightweight(自称)なSNS 単体で見るとlightweightには思えないけど，mastodonと比べたら確かにlightweight DB肥大化問題 長期間Pleromaを稼働させ続けると，DBのレコード数がやばいことになる DBのレスポンスがくそ長くなり，最終的にタイムアウトで500になる オブジェクトの寿命とか設定してみたけど特に意味はなかった 解決法 ローカルアカウントそれ自体の情報以外の情報を削除する pleromaを停止して，postgresで次のSQLを実行する 自動化しても良いかもしれない 追記: フォロー/フォロワー情報も削除されてしまったので改善が必要！！！ 1 2 3 4 TRUNCATETABLEactivitiesCASCADE;#全アクティビティの削除DELETEFROMusersWHEREnotlocal;#全リモートユーザーの削除VACUUMFULL;VACUUMANALYZE;</description></item></channel></rss>